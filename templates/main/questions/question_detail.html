{% extends 'base.html' %}

{% load static %}

{% block content %}

  <meta charset="UTF-8">
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="{% static 'question_detail.css' %}">

  <div class="container">
    
    {% comment %} Show Questions {% endcomment %}
    
    <div class="question">
      <h1 class="question-title">{{ question.title }}</h1>
      <p style="white-space: pre-line;">{{ question.content }}</p>
      {% if question.image %}
        <img src="{{ question.image.url }}" alt="Question Image">
      {% endif %}
      <p class="timestamp">Asked at: {{ question.created_at }}</p>
    </div>
    
    {% comment %} Show Answers {% endcomment %}

    <div class="answers">
      <h2>Answers:</h2>
      {% for answer in question.answer_set.all %}
        <div class="answer">
          <p>{{ answer.content | safe }}</p>  <!-- Используйте фильтр 'safe' для отображения отформатированного текста -->
          {% if answer.image %}
            <img src="{{ answer.image.url }}" alt="Answer Image">
          {% endif %}
          <p class="timestamp">Answered at: {{ answer.created_at }}</p>
        </div>
      {% endfor %}
    </div>

    <style>
      .timestamp {
        font-size: 14px;
        color: #999999;
        position: relative;
        top: 10px;
        right: -690px;
      }
    </style>

    {% comment %} Make Your answer {% endcomment %}

    {% include 'main/questions/answer.html' %}
  
    {% comment %} На Главную {% endcomment %}

    <a href="{% url 'main' %}" class="return-link" style="position: absolute; top: 50px; right: 200px;" >Вернуться на главную</a>


  </div>
  
{% endblock %}